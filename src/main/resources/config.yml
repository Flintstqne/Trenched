# BlockHole TerrainGen Configuration
# ===================================

# Round Settings
round:
  # Phase duration in minutes (default: 10080 = 1 week)
  # Set to 0 to disable auto-advancement (manual only via /round phase)
  phase-duration-minutes: 10080

  # Maximum number of phases per round
  max-phases: 3

  # Auto-start a new round on server startup if none exists
  auto-start-round: true

# World Settings
world:
  # The name of the game world
  name: "world"

  # World border size in blocks (diameter)
  border-size: 2048

  # World border center coordinates
  border-center-x: 0
  border-center-z: 0

  # World border damage settings
  border-damage-amount: 0.2
  border-damage-buffer: 5.0
  border-warning-distance: 10

# Chunk Pregeneration Settings (requires Chunky plugin)
pregeneration:
  # Enable chunk pregeneration on new round
  enabled: true

  # Radius in chunks to pregenerate (2048 chunks = 32768 blocks)
  radius-chunks: 1024

  # Estimated chunks per second for time calculation
  chunks-per-second: 250

# Team Settings
teams:
  # Team spawn coordinates (center of team's home region)
  red:
    spawn-x: -767
    spawn-z: -767
  blue:
    spawn-x: 767
    spawn-z: 767

  # Region size in blocks (for claiming)
  region-size: 512

# Player Settings
player:
  # Teleport players to team spawn on respawn
  respawn-at-team-spawn: true

  # Teleport players to world spawn if they have no team
  no-team-to-world-spawn: true

  # Show team selection GUI to players without a team on join
  show-team-gui-on-join: true

  # Delay (in ticks) before showing team GUI after join (20 ticks = 1 second)
  team-gui-delay-ticks: 20

# Messages
messages:
  # Prefix for plugin messages
  prefix: "&6[BlockHole] "

  # Phase advancement message
  phase-advanced: "&aPhase {phase} has begun!"

  # Round start message
  round-started: "&aRound {round} has started!"

  # Round end message
  round-ended: "&6Round {round} has ended! Winner: {winner}"

  # New round kick message
  new-round-kick: "&6&l[BlockHole] &eServer is resetting for a new war!\n&7World is regenerating. Please reconnect in ~20-30 minutes."

# BlueMap Integration
bluemap:
  # Enable BlueMap region rendering
  enabled: true

  # Marker refresh interval in seconds
  marker-refresh-seconds: 30

# Division Settings
divisions:
  # Enable division system
  enabled: true

  # Maximum divisions per team
  max-per-team: 5

  # Cooldown in hours before a player can create another division
  founder-cooldown-hours: 48

  # Division creation cost
  creation-cost:
    # Enable resource cost for creating divisions
    enabled: true
    # Material required (Minecraft material name)
    material: "DIAMOND_BLOCK"
    # Amount of material required
    amount: 3

# Party Settings
parties:
  # Enable party system
  enabled: true

  # Maximum party size
  max-size: 6

  # Party features
  features:
    # Enable party chat (/pc)
    party-chat: true

    # Compass points to nearest party member
    compass-to-party: true

    # Show party members on BlueMap
    bluemap-markers: true

# Division Depot Settings
division-depots:
  # Enable division depot system
  enabled: true

  # Storage size (slots, max 54 for double chest)
  storage-size: 54

  # Maximum depots per division
  max-per-division: 5

  # Minimum distance between depots (blocks)
  min-distance-between-depots: 32

  # Raid settings
  raiding:
    # Time to raid a depot (seconds)
    channel-time-seconds: 5

    # Percentage of items dropped on raid (0.0 - 1.0)
    loot-drop-percentage: 0.3

    # Minimum items to drop (even if percentage = 0)
    min-items-dropped: 3

    # Maximum items dropped per raid
    max-items-dropped: 27

    # Cooldown between raids on same division's depots (minutes)
    raid-cooldown-minutes: 30

  # Placement restrictions
  placement:
    # Allow placing in contested regions
    allow-in-contested: true

    # Allow placing in neutral regions (adjacent to owned)
    allow-in-neutral: false

    # Allow placing in enemy regions
    allow-in-enemy: false

  # Visual settings
  visuals:
    # Particle type for placed depots
    particle-type: "SOUL_FIRE_FLAME"

    # Particle type for vulnerable depots
    vulnerable-particle-type: "DRIP_LAVA"

    # Show particles
    show-particles: true

    # Particle refresh interval (ticks)
    particle-interval-ticks: 40

# Region Capture Settings
regions:
  # Influence point thresholds
  influence:
    # IP required to capture a neutral region
    neutral-capture: 500
    # IP required to capture an enemy region
    enemy-capture: 1000
    # IP decay per minute when no activity in contested region
    decay-per-minute: 5

  # Actions in enemy regions
  enemy-actions:
    # Points for killing an enemy player
    kill-points: 50
    # Reduction multiplier for killing the same player again (0.5 = 50% reduction per kill)
    kill-same-player-reduction: 0.5
    # Points for placing a team banner
    banner-place: 25
    # Points for removing an enemy banner
    banner-remove-enemy: 15
    # Points per enemy player-placed block mined
    mine-enemy-blocks: 1
    # Maximum blocks that count per second (anti-spam)
    mine-cap-per-second: 5

  # Actions in neutral regions
  neutral-actions:
    # Points per defensive block placed (walls, fences)
    defensive-block: 2
    # Maximum defensive blocks per second (anti-spam)
    defensive-cap-per-second: 10
    # Points for placing a workstation
    workstation: 15
    # Maximum workstations that count per minute (anti-spam)
    workstation-cap-per-minute: 3
    # Points for placing a torch
    torch: 1
    # Maximum torches that count per minute (anti-spam)
    torch-cap-per-minute: 10
    # Points for killing a hostile mob
    mob-kill: 5

  # Defense settings
  defense:
    # Minutes region is immune after capture
    fortification-minutes: 10

  # Physical road supply line settings
  supply:
    # Valid path block types for roads
    path-blocks:
      - DIRT_PATH
      #- GRAVEL
      #- COBBLESTONE
      - STONE_BRICKS
      - POLISHED_ANDESITE
    # Maximum horizontal (X/Z) distance between path blocks to count as connected
    # Keeps roads tight horizontally - must be close neighbors
    # Recommended: 3-5 for strict roads, 5-8 for more forgiving
    # NOTE: Higher values cause more lag during recalculation
    adjacency-radius: 5
    # Maximum vertical (Y) distance between path blocks to count as connected
    # Allows roads to go up/down hills, bridges, tunnels without needing a ramp every 3 blocks
    y-tolerance: 32
    # How far from the border line to search for road blocks (in blocks)
    # Higher = more forgiving for roads that don't go right up to the border
    border-width: 32
    # Enable gap detection (detect blown-up roads)
    # Disable this if you're having false positives from terrain blocks
    gap-detection-enabled: false
    # Respawn delay penalties (in seconds)
    partial-supply-respawn-delay: 5     # Connected via regions but no road
    unsupplied-respawn-delay: 15        # No road connection to home
    isolated-respawn-delay: 30          # No owned adjacent regions
    # Health regen multipliers (1.0 = normal)
    unsupplied-health-regen: 0.5        # 50% slower
    isolated-health-regen: 0.25         # 75% slower

  # Adjacency rules
  adjacency:
    # Only allow capturing adjacent regions (N/S/E/W)
    strict: true
    # Allow diagonal adjacency
    allow-diagonal: false

  # Home region settings
  home:
    # Red team home region
    red: "A1"
    # Blue team home region
    blue: "D4"
    # Enemy must have this many or fewer regions to attack home
    min-regions-to-attack: 2

  # Objective settings
  objectives:
    # Maximum active objectives per region
    objectives-per-region: 2
    # Cooldown in minutes before a player can complete the same objective type again
    cooldown-minutes: 5
    # How often to refresh/spawn new objectives (in minutes)
    refresh-minutes: 10
    # Show action bar hints pointing to objectives
    show-hints: true
    # Show particle markers at objective locations
    show-markers: true
    # Show boss bars when near objectives
    show-boss-bars: true
    # Distance to show boss bar (in blocks)
    boss-bar-distance: 50
    # Distance to show action bar hints (in blocks)
    hint-distance: 100

    resource-depot-radius: 16  # Horizontal radius from objective center
    resource-depot-min-containers: 4  # Number of stocked containers needed
    resource-depot-min-items-per-container: 500  # Items required per container

# Debug Settings
debug:
  # Enable verbose logging
  verbose: false

# Merit System Settings
merit:
  # Enable the merit system
  enabled: true

  # Display rank tag above player's head (name tag)
  show-rank-nametag: true

  # Display rank in chat
  show-rank-in-chat: true

  # Broadcast merit recognition messages server-wide
  broadcast-recognition: true

  # Broadcast promotions server-wide
  broadcast-promotions: true

  # Chat format settings
  # These formats use internal placeholders (not PAPI) for efficiency
  # Available placeholders:
  #   {rank}           - Formatted rank tag with color (e.g., "§7[PFC]§r")
  #   {rank_name}      - Full rank name (e.g., "Private First Class")
  #   {rank_tag}       - Rank abbreviation only (e.g., "PFC")
  #   {division}       - Formatted division tag with team color (e.g., "§c[1ST]§r")
  #   {division_name}  - Division name (e.g., "1st Infantry")
  #   {division_tag}   - Division tag only (e.g., "1ST")
  #   {team_color}     - Team color code (§c for red, §9 for blue)
  #   {player}         - Player name
  #   {message}        - Chat message
  # Color codes: Use & for colors (e.g., &c = red, &f = white, &7 = gray)
  chat:
    # Format for players with a division
    # Default: [DIV] [RANK] PlayerName: message
    with-division: "{division} {rank} {team_color}{player}&7: &f{message}"

    # Format for players without a division
    # Default: [RANK] PlayerName: message
    without-division: "{rank} {team_color}{player}&7: &f{message}"

    # Format for players with no team
    # Default: [RANK] PlayerName: message (gray)
    no-team: "{rank} &7{player}&7: &f{message}"

  # Token earning settings
  tokens:
    # Combat tokens
    kills-for-token-enemy-territory: 5   # Kills needed in enemy territory for 1 token
    kills-for-token-general: 10          # Kills needed anywhere for 1 token
    kill-streak-5-tokens: 1              # Tokens for 5 kill streak
    kill-streak-10-tokens: 2             # Tokens for 10 kill streak
    first-blood-tokens: 2                # Tokens for first kill of round
    shutdown-tokens: 1                   # Tokens for ending enemy streak

    # Territory tokens
    capture-neutral-tokens: 3            # Tokens for capturing neutral region
    capture-enemy-tokens: 5              # Tokens for capturing enemy region
    participation-tokens: 1              # Tokens for participating (100+ IP)
    major-contributor-tokens: 2          # Tokens for top 3 contributor
    defend-region-tokens: 2              # Tokens for defending a region

    # Logistics tokens
    supply-route-tokens: 2               # Tokens for completing supply route
    region-supplied-tokens: 1            # Tokens for first time 100% supply
    road-blocks-per-token: 100           # Road blocks placed for 1 token

    # Sabotage tokens
    disrupt-supply-tokens: 1             # Tokens for disrupting supply
    major-sabotage-tokens: 2             # Tokens for disrupting 3+ regions

    # Time-based tokens
    daily-login-tokens: 1                # Tokens for daily login (15+ min play)
    login-streak-7-tokens: 2             # Tokens for 7-day streak
    login-streak-30-tokens: 5            # Tokens for 30-day streak
    round-completion-tokens: 1           # Tokens for completing round (100+ IP)
    active-playtime-minutes: 120         # Minutes of playtime for 1 token (2 hours)

  # Anti-farming settings
  anti-farm:
    # Cooldown in minutes before same player kill counts again
    kill-cooldown-minutes: 5
    # Max merits givable to same player per day
    same-player-daily-limit: 3
    # Max merits receivable per day
    daily-receive-limit: 10
    # Max merits givable to enemy team per day
    cross-team-daily-limit: 2
    # Minutes playtime required before giving merits
    giver-playtime-required: 120         # 2 hours
    # Minutes playtime required before receiving merits
    receiver-playtime-required: 60       # 1 hour
    # Minutes of interaction required in same region
    interaction-requirement-minutes: 30
    # Max merits givable per day total
    daily-give-limit: 5

  # Debug/Testing options (for admins)
  debug:
    # Enable merit debug logging
    verbose: false
    # Skip anti-farming checks (for testing)
    skip-anti-farm: false
    # Multiply all token earnings (1.0 = normal, 2.0 = double)
    token-multiplier: 1.0
    # Skip playtime requirements
    skip-playtime-requirements: false
    # Allow self-meriting (for testing)
    allow-self-merit: false

# ===================================
# PlaceholderAPI Placeholders
# ===================================
# Requires PlaceholderAPI plugin to be installed.
# Use these placeholders in any PAPI-compatible plugin (TAB, chat plugins, etc.)
#
# === RANK PLACEHOLDERS ===
# %entrenched_rank%            - Full rank name (e.g., "Private First Class")
# %entrenched_rank_tag%        - Rank abbreviation (e.g., "PFC")
# %entrenched_rank_formatted%  - Colored tag with brackets (e.g., "§7[PFC]§r")
# %entrenched_rank_color%      - Rank color code (e.g., "§7")
#
# === TOKEN/MERIT PLACEHOLDERS ===
# %entrenched_tokens%          - Current spendable token balance
# %entrenched_merits%          - Total received merits (determines rank)
# %entrenched_merits_today%    - Merits received today
# %entrenched_tokens_earned%   - Lifetime tokens earned
# %entrenched_merits_given%    - Lifetime merits given to others
# %entrenched_tokens_today%    - Tokens earned today
# %entrenched_given_today%     - Merits given today
#
# === PROGRESSION PLACEHOLDERS ===
# %entrenched_next_rank%       - Next rank name (or "Max Rank")
# %entrenched_merits_to_next%  - Merits needed for next rank
# %entrenched_progress%        - Progress to next rank as percentage (0-100)
#
# === STAT PLACEHOLDERS ===
# %entrenched_kills%           - Lifetime kills
# %entrenched_captures%        - Lifetime region captures
# %entrenched_road_blocks%     - Lifetime road blocks placed
# %entrenched_rounds%          - Rounds completed
# %entrenched_playtime%        - Formatted playtime (e.g., "5d 12h")
# %entrenched_playtime_hours%  - Playtime in hours
# %entrenched_playtime_minutes%- Playtime in minutes
# %entrenched_streak%          - Login streak in days
#
# === DIVISION PLACEHOLDERS ===
# %entrenched_division%        - Division name (empty if none)
# %entrenched_division_tag%    - Division tag (e.g., "1ST")
# %entrenched_division_formatted% - Colored tag (e.g., "§c[1ST]§r")
# %entrenched_division_name%   - Division name (same as division)
# %entrenched_division_description% - Division description
# %entrenched_division_team%   - Division's team (red/blue)
# %entrenched_division_id%     - Division ID (internal)
# %entrenched_division_role%   - Player's role (COMMANDER/OFFICER/MEMBER)
# %entrenched_division_role_short% - Short role (CMD/OFF/MEM)
# %entrenched_division_role_display% - Display role (Commander/Officer/Member)
# %entrenched_division_members%- Member count in division
#
# === BOOLEAN PLACEHOLDERS ===
# %entrenched_has_division%    - true/false if player has a division
# %entrenched_is_commander%    - true/false if player is division commander
# %entrenched_is_div_officer%  - true/false if player is division officer+
# %entrenched_is_officer%      - true/false if player is military officer rank
# %entrenched_is_general%      - true/false if player is general rank
# %entrenched_is_nco%          - true/false if player is NCO rank
# %entrenched_rank_level%      - Rank ordinal number (0-17)
#
# === PREFIX PLACEHOLDERS (for chat/tab) ===
# %entrenched_prefix%          - Rank tag only (e.g., "§7[PFC]§r")
# %entrenched_team_prefix%     - Rank + team color (e.g., "§7[PFC]§r §c")
# %entrenched_division_prefix% - Division tag with team color (e.g., "§c[1ST]§r")
# %entrenched_full_prefix%     - [DIV] [RANK] format (e.g., "§c[1ST] §7[PFC]§r ")
# %entrenched_chat_prefix%     - Full chat prefix: [DIV] [RANK] with colors
# %entrenched_name_prefix%     - For tab/nametag: [DIV] [RANK] TEAMCOLOR
# %entrenched_chat_format%     - Dynamic chat format from config (see merit.chat section)
#                                Uses config settings based on player's division/team status
#                                Includes {message} placeholder for the chat message
#
# === EXAMPLE TAB PLUGIN CONFIG ===
# tablist-name-format: "%entrenched_chat_prefix%%player%"
#
# === EXAMPLE CHAT FORMAT ===
# format: "%entrenched_chat_prefix%&f%player%&7: &f%message%"
#
# === USING DYNAMIC CHAT FORMAT ===
# The %entrenched_chat_format% placeholder uses the formats defined in merit.chat section
# It automatically picks the right format based on player status:
#   - Has division: uses merit.chat.with-division
#   - No division but has team: uses merit.chat.without-division
#   - No team: uses merit.chat.no-team
# The format includes {message} which should be replaced with the actual chat message

